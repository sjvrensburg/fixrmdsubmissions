% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fix_and_knit_folder.R
\name{fix_and_knit_folder}
\alias{fix_and_knit_folder}
\title{Fix and knit all R Markdown files in a folder (combined workflow)}
\usage{
fix_and_knit_folder(
  path = ".",
  pattern = "\\\\.Rmd$",
  recursive = TRUE,
  fix_paths = TRUE,
  data_folder = "auto",
  add_student_info = TRUE,
  limit_output = TRUE,
  output_dir = "fixed",
  knit_quiet = FALSE,
  clean = TRUE,
  quiet = FALSE
)
}
\arguments{
\item{path}{Character string. Path to the folder containing R Markdown files.
Default is current directory (".").}

\item{pattern}{Character string. Pattern to match source files. Default is
"\\\\.Rmd$" to match all R Markdown files.}

\item{recursive}{Logical. If TRUE (default), searches subdirectories recursively.}

\item{fix_paths}{Logical. Convert bare file paths to \code{here::here()} format
(default TRUE). Requires \code{here} package if TRUE.}

\item{data_folder}{Character string. Subfolder name for data files when fixing
paths. Default is "auto" which auto-detects if data files are in parent
directory or current directory. Use "." if data files are at project root,
".." if in parent directory, or "data" for a data subdirectory.}

\item{add_student_info}{Logical. Add parent folder name as numbered heading
(default TRUE). Useful when students forget to include their names.}

\item{limit_output}{Logical. Inject global setup code to limit console output
(default TRUE). Prevents massive data dumps from making documents unreadable.}

\item{output_dir}{Character string or NULL. Directory where final knitted output
files should be saved. Default is "fixed". If NULL, output files are saved in
the same directory as the source .Rmd file. Use this to collect all outputs in
one location for easier grading.}

\item{knit_quiet}{Logical. If TRUE, suppresses individual file progress messages
from rmarkdown::render(). Summary is still printed. Default is FALSE.}

\item{clean}{Logical. If TRUE (default), intermediate files generated during
knitting are removed after successful render.}

\item{quiet}{Logical. If TRUE, suppresses progress messages during fixing phase.
Default is FALSE.}
}
\value{
Invisibly returns a list with two data frames:
\itemize{
\item \code{fix_results}: Results from \code{fix_folder()} with columns:
\itemize{
\item file: Input file path
\item success: Logical indicating if fixing succeeded
\item n_fixed_chunks: Number of chunks with eval = FALSE
\item n_path_fixes: Number of file paths converted
}
\item \code{knit_results}: Results from \code{knit_fixed_files()} with columns:
\itemize{
\item file: Input file path
\item output: Output file path (or NA if failed)
\item success: Logical indicating if knitting succeeded
\item error: Error message (or NA if succeeded)
}
}
}
\description{
Convenience function that combines fixing and knitting into a single step.
This is the recommended workflow for batch processing student submissions:
\enumerate{
\item \strong{Fix phase}: Repairs broken file paths, disables failing code chunks, and
limits output (via \code{fix_folder()})
\item \strong{Knit phase}: Converts fixed \code{.Rmd} files to their final output format
(via \code{knit_fixed_files()})
}

This is equivalent to running \code{fix_folder()} followed by \code{knit_fixed_files()},
but with a cleaner interface and unified progress reporting.
}
\examples{
\dontrun{
# Complete workflow: Fix and knit all submissions in one call
fix_and_knit_folder("~/submissions")

# With all options
results <- fix_and_knit_folder(
  path = "submissions",
  recursive = TRUE,
  fix_paths = TRUE,
  data_folder = ".",
  add_student_info = TRUE,
  limit_output = TRUE,
  output_dir = "graded_submissions",
  quiet = FALSE
)

# Collect all outputs in one folder for easier distribution
fix_and_knit_folder(
  path = "submissions",
  output_dir = "final_graded_work"
)

# Quiet mode for less verbose output
results <- fix_and_knit_folder("submissions", quiet = TRUE, knit_quiet = TRUE)

# See which files failed
View(results$knit_results[!results$knit_results$success, ])

# See how many chunks were disabled per file
View(results$fix_results)
}

}
\seealso{
\itemize{
\item \code{fix_folder()} for fixing without knitting
\item \code{knit_fixed_files()} for knitting already-fixed files
\item \code{fix_rmd()} for fixing a single file
}
}
